<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Plot rectangles colored by a quantitative attribute and overlay on an RGB image — plot_index_shp • pliman</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot rectangles colored by a quantitative attribute and overlay on an RGB image — plot_index_shp"><meta name="description" content="This function plots rectangles on top of an RGB image, where each rectangle
is colored based on a quantitative variable. The quantitative variable is
specified in the attribute argument and should be present in the
object_index of the object computed using analyze_objects_shp(). The
rectangles are colored using a color scale."><meta property="og:description" content="This function plots rectangles on top of an RGB image, where each rectangle
is colored based on a quantitative variable. The quantitative variable is
specified in the attribute argument and should be present in the
object_index of the object computed using analyze_objects_shp(). The
rectangles are colored using a color scale."><meta property="og:image" content="https://nepem-ufsc.github.io/pliman/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">pliman</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home"></span> Home</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-examples" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Examples</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-examples"><li><h6 class="dropdown-header" data-toc-skip>Image analysis</h6></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/manipulation.html">Image manipulation</a></li>
    <li><a class="dropdown-item" href="../articles/indexes.html">Image indexes</a></li>
    <li><a class="dropdown-item" href="../articles/segmentation.html">Image segmentation</a></li>
    <li><a class="dropdown-item" href="../articles/polygons.html">Polygons</a></li>
    <li><a class="dropdown-item" href="../articles/analyze_objects.html">Image analysis</a></li>
    <li><a class="dropdown-item" href="../articles/leaf_area.html">Measure leaf area</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/phytopatometry.html">Phytopatometry</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/htp.html">High Throughput Phenotyping</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><a class="dropdown-item" href="../news/index.html">Package news</a></li>
    <li><a class="external-link dropdown-item" href="https://olivoto.netlify.app/">Blog posts</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-more" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">More</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-more"><li><a class="dropdown-item" href="../CODE_OF_CONDUCT.html">Code of Conduct</a></li>
    <li><a class="dropdown-item" href="../CONTRIBUTING.html">Contributing</a></li>
    <li><a class="dropdown-item" href="../ISSUE_TEMPLATE.html">Issues</a></li>
    <li><a class="dropdown-item" href="../SUPPORT.html">Support</a></li>
    <li><a class="dropdown-item" href="../LICENSE.html">Licence</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Plot rectangles colored by a quantitative attribute and overlay on an RGB image</h1>
      <small class="dont-index">Source: <a href="NA/NA/NA/blob/HEAD/R/utils_shp.R"><code>R/utils_shp.R</code></a></small>
      <div class="d-none name"><code>plot_index_shp.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function plots rectangles on top of an RGB image, where each rectangle
is colored based on a quantitative variable. The quantitative variable is
specified in the <code>attribute</code> argument and should be present in the
<code>object_index</code> of the <code>object</code> computed using <code><a href="analyze_objects_shp.html">analyze_objects_shp()</a></code>. The
rectangles are colored using a color scale.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_index_shp</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  attribute <span class="op">=</span> <span class="st">"coverage"</span>,</span>
<span>  r <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  g <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  b <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"yellow"</span>, <span class="st">"darkgreen"</span><span class="op">)</span>,</span>
<span>  viewer <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mapview"</span>, <span class="st">"base"</span><span class="op">)</span>,</span>
<span>  max_pixels <span class="op">=</span> <span class="fl">5e+05</span>,</span>
<span>  downsample <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  downsample_fun <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">0.7</span>,</span>
<span>  legend.position <span class="op">=</span> <span class="st">"bottom"</span>,</span>
<span>  na.color <span class="op">=</span> <span class="st">"gray"</span>,</span>
<span>  classes <span class="op">=</span> <span class="fl">6</span>,</span>
<span>  round <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  horiz <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>An object computed with <code><a href="analyze_objects_shp.html">analyze_objects_shp()</a></code>.</p></dd>


<dt id="arg-attribute">attribute<a class="anchor" aria-label="anchor" href="#arg-attribute"></a></dt>
<dd><p>The name of the quantitative variable in the
<code>object_index</code> to be used for coloring the rectangles.</p></dd>


<dt id="arg-r-g-b">r, g, b<a class="anchor" aria-label="anchor" href="#arg-r-g-b"></a></dt>
<dd><p>The layer for the Red, Green and Blue band, respectively.
Defaults to <code>1</code>, <code>2</code>, and <code>3</code>.</p></dd>


<dt id="arg-color">color<a class="anchor" aria-label="anchor" href="#arg-color"></a></dt>
<dd><p>A vector of two colors to be used for the color scale.</p></dd>


<dt id="arg-viewer">viewer<a class="anchor" aria-label="anchor" href="#arg-viewer"></a></dt>
<dd><p>The viewer option. If not provided, the value is retrieved
using <code><a href="get_pliman_viewer.html">get_pliman_viewer()</a></code>. This option controls the type of viewer to use
for interactive plotting. The available options are <code>"base"</code> and
<code>"mapview"</code>. If set to "base", the base R graphics system is used for
interactive plotting. If set to "mapview", the mapview package is used. To
set this argument globally for all functions in the package, you can use
the <code><a href="set_pliman_viewer.html">set_pliman_viewer()</a></code> function. For example, you can run
<code>set_pliman_viewer("mapview")</code> to set the viewer option to "mapview" for
all functions.</p></dd>


<dt id="arg-max-pixels">max_pixels<a class="anchor" aria-label="anchor" href="#arg-max-pixels"></a></dt>
<dd><p>integer &gt; 0. Maximum number of cells to plot the index. If
<code>max_pixels &lt; npixels(img)</code>, downsampling is performed before plotting the
index. Using a large number of pixels may slow down the plotting time.</p></dd>


<dt id="arg-downsample">downsample<a class="anchor" aria-label="anchor" href="#arg-downsample"></a></dt>
<dd><p>integer; for each dimension the number of
pixels/lines/bands etc that will be skipped; Defaults to <code>NULL</code>, which will
find the best downsampling factor to approximate the <code>max_pixels</code> value.</p></dd>


<dt id="arg-downsample-fun">downsample_fun<a class="anchor" aria-label="anchor" href="#arg-downsample-fun"></a></dt>
<dd><p>function; if given, downsampling will apply
<code>downsample_fun`` </code> to each of the the subtiles.</p></dd>


<dt id="arg-alpha">alpha<a class="anchor" aria-label="anchor" href="#arg-alpha"></a></dt>
<dd><p>The transparency level of the rectangles' color (between 0 and 1).</p></dd>


<dt id="arg-legend-position">legend.position<a class="anchor" aria-label="anchor" href="#arg-legend-position"></a></dt>
<dd><p>The position of the color legend, either
<code>"bottom"</code> or <code>"right"</code>.</p></dd>


<dt id="arg-na-color">na.color<a class="anchor" aria-label="anchor" href="#arg-na-color"></a></dt>
<dd><p>The color to be used for rectangles with missing values in
the quantitative variable.</p></dd>


<dt id="arg-classes">classes<a class="anchor" aria-label="anchor" href="#arg-classes"></a></dt>
<dd><p>The number of classes in the color scale.</p></dd>


<dt id="arg-round">round<a class="anchor" aria-label="anchor" href="#arg-round"></a></dt>
<dd><p>The number of decimal places to round the legend values.</p></dd>


<dt id="arg-horiz">horiz<a class="anchor" aria-label="anchor" href="#arg-horiz"></a></dt>
<dd><p>Logical, whether the legend should be horizontal (<code>TRUE</code>)
or vertical (<code>FALSE</code>).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The function plots rectangles colored by the specified quantitative
variable on top of the RGB image and shows the continuous color legend
outside the plot.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://nepem-ufsc.github.io/pliman/">pliman</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Computes the DGCI index for each flax leaf</span></span></span>
<span class="r-in"><span><span class="va">flax</span> <span class="op">&lt;-</span> <span class="fu"><a href="utils_image.html">image_pliman</a></span><span class="op">(</span><span class="st">"flax_leaves.jpg"</span>, plot <span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>   <span class="fu"><a href="analyze_objects_shp.html">analyze_objects_shp</a></span><span class="op">(</span><span class="va">flax</span>,</span></span>
<span class="r-in"><span>                       buffer_x <span class="op">=</span> <span class="fl">0.1</span>,</span></span>
<span class="r-in"><span>                       buffer_y <span class="op">=</span> <span class="fl">0.02</span>,</span></span>
<span class="r-in"><span>                       nrow <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>                       ncol <span class="op">=</span> <span class="fl">5</span>,</span></span>
<span class="r-in"><span>                       plot <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                       object_index <span class="op">=</span> <span class="st">"DGCI"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">plot_index_shp</span><span class="op">(</span><span class="va">res</span>, attribute <span class="op">=</span> <span class="st">"DGCI"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://olivoto.netlify.app/" class="external-link">Tiago Olivoto</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

